<html>
    <head>
        {{>html_head_top}}
        <script src="/new.js" type="text/javascript"></script>
        <link rel="stylesheet" href="/layout.css" />
            <title>
            Parson
        </title>
    </head>
    <style type="text/css">
        .puzzletable input {margin: 0; width: 100%;}
        .puzzletable td {margin: 0; padding: 0;}
    </style>
<body>
    <header>
		<div class="container-fluid">
			<div class="row">
				<div id="backbtn" class="col-sm-2">&nbsp;
					<a role="button" class="btn btn-dark" href="/puzzles">
						Zurück 
					</a>
				</div>
				<div class="col-sm-8">
					<h1 align="center">
						Neues Parson's Puzzle erstellen
					</h1>
				</div>
			</div>
		</div>
    </header>
    {{>fancy_alert}}
    <div id="content" class="container-fluid">
        <div class="jumbotron">
            <hr class="my-4"> 
            <form>
                <div class="form-group">
                    <label for="form_title">
                        Titel
                    </label>
                    <input type="text" class="form-control" id="form_title" aria-describedby="nameHelp" placeholder="Titel">
                    <small id="nameHelp" class="form-text text-muted">
                        Ein Titel, Bitte
                    </small>
                </div>
                <div class="form-group">
                    <label for="form_password">
                        Password
                    </label>
                    <input type="password" class="form-control" id="form_password" aria-describedby="passHelp" placeholder="Password" autocomplete="off">
                    <small id="passHelp" class="form-text text-muted">
                        Ein Passwort, um das Puzzle später bearbeiten zu können
                    </small>
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <label class="form-check-label" for="savePassword">
                            <input class="form-check-input" type="checkbox" value="" id="savePassword" checked="checked">
                            Passwort <strong>unverschlüsselt</strong> im Browser speichern?
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <label class="form-check-label" for="deletePuzzle">
                            <input class="form-check-input" type="checkbox" value="" id="deletePuzzle">
                            Puzzle löschen?
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <label class="form-check-label" for="hidePuzzle">
                            <input class="form-check-input" type="checkbox" value="" id="hidePuzzle">
                            Puzzle in der Liste/Startseite verstecken?
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <label class="form-check-label" for="disableJS">
                            <input class="form-check-input" type="checkbox" value="" id="disableJS">
                            Javascript-Funktionalität verstecken?
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <label class="form-check-label" for="disableCollab">
                            <input class="form-check-input" type="checkbox" value="" id="disableCollab">
                            Kollaborations-Funktionalität verstecken?
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="form_description">
                        Beschreibung
                    </label>
                    <input type="text" class="form-control" id="form_description" aria-describedby="descriptionHelp" placeholder="Beschreibung">
                    <small id="descriptionHelp" class="form-text text-muted">
                        Eine Beschreibung, Bitte
                    </small>
                </div>
                <div class="form-group">
                    <label for="form_js_input">
                        Javascript-Eingabe
                    </label>
                    <input type="text" class="form-control monotextarea" id="form_js_input" placeholder="[42,42,42]">
                    <small id="form_js_input" class="form-text text-muted">
                        Dies ist durch den Nutzer änderbar, ihm wird aber dieser defaultwert vorgeschlagen. Ist als "js_input" verwendbar.
                    </small>
                </div>
                <div class="form-group">
                    <label for="form_js_pre">
                        Javascript-Prefix
                    </label>
                    <input type="text" class="form-control monotextarea" id="form_js_pre" value="var out=''; function print(a){out+=a+'\n'};var feld=js_input">
                    <small id="form_js_pre" class="form-text text-muted">
                        Dies ist der Javascript-Code, der _vor_ den Puzzlestücken eingefügt wird.<br/>
                        Die Methode "print(text)" gibt etwas aus.
                    </small>
                </div>
                <div class="form-group">
                    <label for="form_js_suf">
                        Javascript-Suffix
                    </label>
                    <input type="text" class="form-control monotextarea" id="form_js_suf" value="out;">
                    <small id="form_js_suf" class="form-text text-muted">
                        Dies ist der Javascript-Code, der _nach_ den Puzzlestücken eingefügt wird.
                    </small>
                </div>
                <div class="form-group">
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                      <li class="nav-item">
                        <a class="nav-link active" id="single-tab" data-toggle="tab" href="#single" role="tab" aria-controls="single" aria-selected="true">Zeilenweise Eingabe</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" id="multiple-tab" data-toggle="tab" href="#multiple" role="tab" aria-controls="multiple" aria-selected="false">Gesamt-Eingabe</a>
                      </li>
                    </ul>
                    <div class="tab-content" id="nav-tabContent">
                        <div class="tab-pane fade show active" id="single" role="tabpanel" aria-labelledby="single-tab">
                            <table class="table table-xtra-condensed parts_table" id="parts_table">
                                <tbody>
                                    <tr class="form_row d-flex" style="margin-left: 0px;">
                                    	<input class="row_id" type="hidden" value="1">
                                        <td class="col-sm-2">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <button class="btn btn-dark btn_move" type="button">
                                                        <span class="oi" data-glyph="elevator" title="elevator" aria-hidden="true"></span>
                                                    </button>
                                                </div>
                                                <input type="text" class="form-control form_id" placeholder="Bezeichner">
                                            </div>
                                        </td>
                                        <td class="col-sm-5">
                                            <input type="text" class="form-control form_name monotextarea" placeholder="Programmcode">
                                        </td>
                                        <td class="col-sm-5">
                                        <div class="input-group">
                                            <input type="text" class="form-control form_js monotextarea" placeholder="Javascript-Equivalent" aria-label="">
                                            <div class="input-group-append">
                                                <button class="btn btn-dark form_duplicate" type="button">
                                                    <span class="oi" data-glyph="plus" title="plus" aria-hidden="true"></span>
                                                </button>
                                                <button class="btn btn-dark form_delete" type="button">
                                                    <span class="oi" data-glyph="delete" title="delete" aria-hidden="true"></span>
                                                </button>
                                            </div>
                                        </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                             
<!-- 
							<div id="parts_table" >
								<div class="row form_row">
									<div class="col">
										  <input type="text" class="form-control form_id" placeholder="Bezeichner">
									</div>
									<div class="col">
										  <input type="text" class="form-control form_name" placeholder="Programmcode">
									</div>
									<div class="col-6">
										<div class="input-group mb-3">
												<input type="text" class="form-control form_js monotextarea" placeholder="Javascript-Equivalent">
											<div class="input-group-append">
													<button class="btn btn-outline-secondary form_duplicate" type="button">Duplizieren</button>
													<button class="btn btn-outline-secondary form_delete" type="button">Löschen</button>
										  	</div>
										</div>
									</div>
								</div>
							</div>
 -->
 							<div class="row">
 								<div class="col-sm-6">
									<small id="single" class="form-text text-muted">
                        				Manuelle eingabe Listenelemente können per Drag and Drop verschoben werden.
                    				</small>
								</div>
								<div class="col-sm-2">
									<a class="btn btn-secondary btn-block" id="form_shuffle">
                                		Bezeichner zufällig neu vergeben
                            		</a>
								</div>
								<div class="col-sm-2">
									<a class="btn btn-secondary btn-block" id="form_duplicate_all">
                                	Alle zeilen klonen
                            		</a>
								</div>
								<div class="col-sm-2">
									<a class="btn btn-secondary btn-block" id="form_sort">
                                	Zeilen nach Bezeichner sortieren
                            		</a>
								</div>     
							</div>                                
                        </div>                        
                        <div class="tab-pane fade" id="multiple" role="tabpanel" aria-labelledby="multiple-tab">
                            <div class="form-group">
                                <label for="form_codearea">
                                    
                                </label>
                                <textarea style="min-height:80px;" class="form-control monotextarea" id="form_codearea" rows="3" placeholder="Programmcode hier eintragen"></textarea>
                                <small id="multiple" class="form-text text-muted">
                        			In diesem Textfeld kann ein ganzes Parson Puzzle eingegeben werden. Hierfür gibt es verschiedene Möglichkeiten:<br>
                        			1. <span id="monosp">Programmcode</span> - Der Puzzle-Code wird zeilenweise zu Parson-Teilen geschnitten, der Bezeichner hierfür werden generiert.<br>
                        			2. <span id="monosp">Bezeichner | Programmcode | Javascript-Equivalent</span> - Hier werden alle Felder gefüllt, separiert durch |.
                    			</small>
                    			<div class="form-check">
                        			<label class="form-check-label" for="shuffleArr">
                            			<input class="form-check-input" type="checkbox" value="" id="shuffleArr">
                            				Mischen? <small><span id="warnings">Achtung: Wenn die Teile nicht gemischt werden, lässt sich die korrekte Reihenfolge im Array sehen</span></small>
                        			</label>
                    			</div>
                            </div>
                        </div>
                    </div>
                </div>

                <button type=submit class="btn btn-secondary" id="form_add">
                    Submit
                </button>
            </form>
        </div>
    </div>
</body>
