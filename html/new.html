<html>
    <head>
        {{>html_head_top}}
        <script src="new.js" type="text/javascript"></script>
            <title>
            Parson
        </title>
    </head>
    <style type="text/css">
        .puzzletable input {margin: 0; width: 100%;}
        .puzzletable td {margin: 0; padding: 0;}
    </style>
<body>
    {{>fancy_alert}}
    <div class="container">
        <div class="jumbotron">
            <a href="/puzzles">Zurück</a>
            <h1>
                Parson's Puzzles
            </h1>
            <p>
                Dies ist eine Liste der auf dem Server hinterlegten Puzzles
            </p>
            <hr class="my-4"> 
            <form>
                <div class="form-group">
                    <label for="form_title">
                        Titel
                    </label>
                    <input type="text" class="form-control" id="form_title" aria-describedby="nameHelp" placeholder="Titel">
                    <small id="nameHelp" class="form-text text-muted">
                        Ein Titel, Bitte
                    </small>
                </div>
                <div class="form-group">
                    <label for="form_password">
                        Password
                    </label>
                    <input type="password" class="form-control" id="form_password" aria-describedby="passHelp" placeholder="Password">
                    <small id="passHelp" class="form-text text-muted">
                        Ein Passwort, um das Puzzle später bearbeiten zu können
                    </small>
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <label class="form-check-label" for="deletePuzzle">
                            <input class="form-check-input" type="checkbox" value="" id="deletePuzzle">
                            Puzzle löschen?
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <label class="form-check-label" for="hidePuzzle">
                            <input class="form-check-input" type="checkbox" value="" id="hidePuzzle">
                            Puzzle in der Liste/Startseite verstecken?
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <label class="form-check-label" for="disableJS">
                            <input class="form-check-input" type="checkbox" value="" id="disableJS">
                            Javascript-Funktionalität verstecken?
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <label class="form-check-label" for="disableCollab">
                            <input class="form-check-input" type="checkbox" value="" id="disableCollab">
                            Kollaborations-Funktionalität verstecken?
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="form_description">
                        Beschreibung
                    </label>
                    <input type="text" class="form-control" id="form_description" aria-describedby="descriptionHelp" placeholder="Beschreibung">
                    <small id="descriptionHelp" class="form-text text-muted">
                        Eine Beschreibung, Bitte
                    </small>
                </div>
                <div class="form-group">
                    <label for="form_js_input">
                        Javascript-Eingabe
                    </label>
                    <input type="text" class="form-control monotextarea" id="form_js_input" placeholder="[42,42,42]">
                    <small id="form_js_input" class="form-text text-muted">
                        Dies ist durch den Nutzer änderbar, ihm wird aber dieser defaultwert vorgeschlagen. Ist als "js_input" verwendbar.
                    </small>
                </div>
                <div class="form-group">
                    <label for="form_js_pre">
                        Javascript-Prefix
                    </label>
                    <input type="text" class="form-control monotextarea" id="form_js_pre" value="var out=''; function print(a){out+=a+'\n'};var feld=js_input">
                    <small id="form_js_pre" class="form-text text-muted">
                        Dies ist der Javascript-Code, der _vor_ den Puzzlestücken eingefügt wird
                    </small>
                </div>
                <div class="form-group">
                    <label for="form_js_suf">
                        Javascript-Suffix
                    </label>
                    <input type="text" class="form-control monotextarea" id="form_js_suf" value="out;">
                    <small id="form_js_suf" class="form-text text-muted">
                        Dies ist der Javascript-Code, der _nach_ den Puzzlestücken eingefügt wird.
                        Insbesondere wird der letzte Ausdruck als "Ausgabe" gewertet.
                    </small>
                </div>
                <div class="form-group">
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                      <li class="nav-item">
                        <a class="nav-link active" id="single-tab" data-toggle="tab" href="#single" role="tab" aria-controls="single" aria-selected="true">Zeilenweise Eingabe</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" id="multiple-tab" data-toggle="tab" href="#multiple" role="tab" aria-controls="multiple" aria-selected="false">Gesamt-Eingabe</a>
                      </li>
                    </ul>
                    <div class="tab-content" id="nav-tabContent">
                        <div class="tab-pane fade show active" id="single" role="tabpanel" aria-labelledby="single-tab">
                        	Manuelle Eingabe von Parson-Teilen
                            <table class="table table-bordered table-condensed puzzletable">
                                <tbody>
                                    <tr class="form_row">
                                    <td>
                                        <input type="text" class="form-control form_id" placeholder="Bezeichner">
                                    </td>
                                    <td>
                                        <input type="text" class="form-control form_name" placeholder="Programmcode">
                                    </td>
                                    <td>
                                        <div class="input-group mb-3">
                                            <input type="text" class="form-control form_js" placeholder="Javascript-Equivalent">
                                            <div class="input-group-append">
                                                <button class="btn btn-outline-secondary form_duplicate" type="button">Duplizieren</button>
                                                <button class="btn btn-outline-secondary form_delete" type="button">Löschen</button>
                                            </div>
                                        </div>
                                    </td>
                                    </tr>
                                </tbody>
                            </table>
                            <a class="btn btn-secondary" id="form_shuffle">
                                Bezeichner zufällig neu vergeben
                            </a>
                            <a class="btn btn-secondary" id="form_duplicate_all">
                                Alle zeilen klonen
                            </a>
                            </a>
                            <a class="btn btn-secondary" id="form_sort">
                                Zeilen nach Bezeichner sortieren
                            </a>
                        </div>                        
                        <div class="tab-pane fade" id="multiple" role="tabpanel" aria-labelledby="multiple-tab">
                            <div class="form-group">
                                <label for="form_codearea">
                                    
                                </label>
                                <textarea style="min-height:80px;" class="form-control monotextarea" id="form_codearea" rows="3" placeholder="Programmcode hier eintragen"></textarea>
                                <small id="multiple" class="form-text text-muted">
                        			In diesem Textfeld kann ein ganzes Parson Puzzle eingegeben werden. Hierfür gibt es verschiedene Möglichkeiten:<br>
                        			1. <span id="monosp">Programmcode</span> - Der Puzzle-Code wird zeilenweise zu Parson-Teilen geschnitten, der Bezeichner hierfür werden generiert.<br>
                        			2. <span id="monosp">Bezeichner | Programmcode | Javascript-Equivalent</span> - Hier werden alle Felder gefüllt, separiert durch |.
                    			</small>
                    			<div class="form-check">
                        			<label class="form-check-label" for="disableCollab">
                            			<input class="form-check-input" type="checkbox" value="" id="shuffleArr">
                            				Mischen? <small><span id="warnings">Achtung: Wenn die Teile nicht gemischt werden, lässt sich die korrekte Reihenfolge im Array sehen</span></small>
                        			</label>
                    			</div>
                            </div>
                        </div>
                    </div>
                </div>

                <button type=submit class="btn btn-primary" id="form_add">
                    Submit
                </button>
            </form>
        </div>
    </div>
</body>
